<!doctype html>
<html>
	<head>
		<link rel="icon" href="favicon.ico">
		<title>
			Journal
		</title>
		<script>
			var logText = "";
			console.log = function (text) {
				logText += text + "\n";
			};
		</script>
		<script src="preformatting.js"></script>
		<script src="https://www.gstatic.com/firebasejs/4.6.1/firebase.js"></script>
		<script src="https://www.gstatic.com/firebasejs/4.6.1/firebase-firestore.js"></script>
		<script src="https://epicenterprograms.github.io/standards/behavior/firebaseinit.js"></script>
		<script src="https://epicenterprograms.github.io/standards/behavior/general.js"></script>
		<script src="https://epicenterprograms.github.io/standards/behavior/storage.js"></script>
		<script src="loadpeople.js"></script>
		<script src="behavior.js"></script>
		<script>
			var S = Standards.general;
			
			window.addEventListener("error", function (error) {
				let log = document.createElement("div");
				log.className = "logDisplay";
				log.textContent = error.filename + ":" + error.lineno + ":" + error.colno + "\n";
				if (error.error === null) {
					log.textContent += "null";
				} else {
					log.textContent += error.error.stack.replace(/    /g, "\t\t");
				}
				console.error(error);
				document.getElementsByTagName("main")[0].appendChild(log);
			});

			S.listen(window, ["load", "loadedPeople", "loadedPlaceholders", "loadedAllPeople"], function () {
				let log = document.createElement("div");
				log.className = "logDisplay";
				log.textContent = logText;
				document.getElementsByTagName("main")[0].appendChild(log);
				logText = "";
			});
			S.onLoad(function () {
				let span = document.createElement("span");
				span.textContent = "Text added";
				S.getId("result1").appendChild(span);
			});
		</script>
		<link rel="stylesheet" href="https://epicenterprograms.github.io/standards/formatting/foundation.css">
		<link rel="stylesheet" href="formatting.css">
		<style>
			.logDisplay {
				display: table;
				text-align: left;
				text-align-last: left;
				white-space: pre;
			}
		</style>
	</head>
	<body>
		<h1 class="main-title">
			Test 4
		</h1>
		<main>
			<section>p024</section>
			<section id="result1"></section>
		</main>
	</body>
</html>
